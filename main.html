<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
      rel="stylesheet"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
    <link rel="stylesheet" href="main.css" />
  </head>

  <body>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
      crossorigin="anonymous"
    ></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=9c9fb588b9138bcbd0cd56120ecc523d&libraries=services"></script>

    <div class="d-flex align-items-center gap-3 px-3 py-2">
      <div class="dropdown">
        <button
          class="btn btn-outline-secondary"
          type="button"
          id="hamburgerMenu"
          data-bs-toggle="dropdown"
          aria-expanded="false"
        >
          <i class="bi bi-list" style="font-size: 1.5rem"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="hamburgerMenu">
          <li><h6 class="dropdown-header">인물</h6></li>
          <li><a class="dropdown-item" href="#">유관순</a></li>
          <li><a class="dropdown-item" href="#">이순신</a></li>
          <li><h6 class="dropdown-header">지역</h6></li>
          <li><a class="dropdown-item" href="#">서울</a></li>
          <li><a class="dropdown-item" href="#">대구</a></li>
        </ul>
      </div>
      <a href="main.html" class="custom-link">역사의 발자취</a>
      <a href="#" class="custom-link">홈</a>
      <a href="#" class="custom-link">게시판</a>

      <div class="input-group" style="width: 300px">
        <span class="input-group-text">
          <i class="bi bi-search"></i>
        </span>
        <input
          class="form-control"
          type="search"
          placeholder="Search"
          aria-label="Search"
        />
      </div>

      <a href="#" style="margin-left: 300px" class="btn btn-primary"
        >회원가입</a
      >
      <a href="#" class="btn btn-primary">로그인</a>
    </div>

    <div class="swiper mySwiper" style="width: 80%; margin: 20px auto">
      <div class="swiper-wrapper">
        <div class="swiper-slide">
          <img src="./image/lee.jpg" alt="이순신동상" style="width: 100%" />
        </div>
        <div class="swiper-slide">
          <img src="./image/you.png" alt="유관순동상" style="width: 100%" />
        </div>
      </div>
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
    </div>

    <div
      id="map"
      style="width: 80%; height: 530px; margin-left: 185px; margin-top: -200px"
    ></div>

    <script>
      function initialize() {
        const mapContainer = document.getElementById("map");
        const map = new kakao.maps.Map(mapContainer, {
          center: new kakao.maps.LatLng(34.7465, 127.7329),
          level: 12, // 초기 줌 레벨
        });

        const places = [
          { name: "선소", latLng: new kakao.maps.LatLng(34.7592, 127.7223) },
          {
            name: "이충무공자당",
            latLng: new kakao.maps.LatLng(34.7512, 127.7306),
          },
          { name: "진남관", latLng: new kakao.maps.LatLng(34.7542, 127.7322) },
          {
            name: "이순신광장",
            latLng: new kakao.maps.LatLng(34.7465, 127.7329),
          },
          {
            name: "고소동천사벽화골목",
            latLng: new kakao.maps.LatLng(34.7489, 127.7432),
          },
        ];

        const bounds = new kakao.maps.LatLngBounds();

        places.forEach((place) => {
          const marker = new kakao.maps.Marker({
            position: place.latLng,
          });
          marker.setMap(map);

          const infowindow = new kakao.maps.InfoWindow({
            content: `<div style="padding:5px;">${place.name}</div>`,
          });
          infowindow.open(map, marker);

          bounds.extend(place.latLng);
        });

        // 경로 표시
        const path = places.map((place) => place.latLng);
        const polyline = new kakao.maps.Polyline({
          path: path,
          strokeWeight: 5,
          strokeColor: "#FF0000",
          strokeOpacity: 1,
          strokeStyle: "solid",
        });
        polyline.setMap(map);

        map.setBounds(bounds); // 마커 전부 보이도록 자동 조정
      }

      window.onload = function () {
        initialize();

        new Swiper(".mySwiper", {
          loop: true,
          navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
          },
          autoplay: {
            delay: 5000,
            disableOnInteraction: false,
          },
        });
      };
    </script>
    <footer class="bg-dark text-light text-center py-4 mt-5">
      <div class="container">
        <p class="mb-1">&copy; 역사의 발자취.</p>
        <div class="d-flex justify-content-center gap-3">
          <a href="#" class="text-light text-decoration-none"
            ><i class="bi bi-facebook"></i
          ></a>
          <a href="#" class="text-light text-decoration-none"
            ><i class="bi bi-instagram"></i
          ></a>
          <a href="#" class="text-light text-decoration-none"
            ><i class="bi bi-envelope"></i
          ></a>
        </div>
      </div>
    </footer>
  </body>
</html>
